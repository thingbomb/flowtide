---
import BaseHead from "../../components/BaseHead.astro";
import Header from "../../components/Header.astro";
import plugins from "./plugins";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title="Plugins - Flowtide"
      description="Customize your New Tab page deeply with Flowtide Plugins, built on CSS for advanced styling."
    />
  </head>
  <body class="bg-black">
    <Header />
    <main class="max-w-screen-sm m-auto p-6">
      <h1 class="text-white text-3xl font-bold mb-2">Plugins for Flowtide</h1>
      <div class="flex flex-col gap-2 text-white">
        {
          Object.keys(plugins)
            .sort((a, b) => {
              if (
                [
                  "a",
                  "b",
                  "c",
                  "d",
                  "e",
                  "f",
                  "g",
                  "h",
                  "i",
                  "j",
                  "k",
                  "l",
                  "m",
                  "n",
                  "o",
                  "p",
                  "q",
                  "r",
                  "s",
                  "t",
                  "u",
                  "v",
                  "w",
                  "x",
                  "y",
                  "z",
                ].indexOf(a.toLowerCase().slice(0, 1)) <
                [
                  "a",
                  "b",
                  "c",
                  "d",
                  "e",
                  "f",
                  "g",
                  "h",
                  "i",
                  "j",
                  "k",
                  "l",
                  "m",
                  "n",
                  "o",
                  "p",
                  "q",
                  "r",
                  "s",
                  "t",
                  "u",
                  "v",
                  "w",
                  "x",
                  "y",
                  "z",
                ].indexOf(b.toLowerCase().slice(0, 1))
              ) {
                return -1;
              }
              if (plugins[a].title > plugins[b].title) {
                return 1;
              }
              return 0;
            })
            .map((pluginId) => (
              <a href={`/plugins/${pluginId}`}>
                <h3>{plugins[pluginId].title}</h3>
                <p class="pt-0 mt-2">
                  {plugins[pluginId].shortDescription
                    ? `${plugins[pluginId].shortDescription}`
                    : ""}
                </p>
              </a>
            ))
        }
      </div>
    </main>
  </body>
</html>
